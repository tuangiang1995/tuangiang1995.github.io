"use strict";$.ajaxSetup({cache:!1});var clientUrl="https://clients.lk-cs.com",clientId=$(".lkcs-ts").attr("data-id").replace(/\D/g,"");function trackLink(t,e){"function"==typeof ga?ga("send","event",{eventCategory:t,eventAction:"click",eventLabel:e}):"function"==typeof gtag&&gtag("event","click",{event_category:t,event_label:e})}function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}var resizeTimer,currentSize,newSize,resizeCount=0;function sizeBanners(){var t=$(window).width();(currentSize=newSize)!==(newSize=t<=699?"small":t<=1023?"med":"large")&&resizeCount<=5&&($(".slideshow").cycle("destroy"),displayBanners(t),resizeCount++)}function displayBanners(t){var e=$(".ts-banners").attr("data-cat"),a="";e&&(a="&c="+(e=e.replace(/\W+/g,"")));var n=$(".ts-banners").attr("data-pause"),i=$(".ts-banners").attr("data-lang");$.getJSON(clientUrl+"/shared/banners/json?id="+clientId+a,(function(e){if("200"!==e.status)$(".ts-banners").html(e.error);else{var a,s,l="",c=e.speed,o=e.transition,r=e.random,d=e.type,p=e.separator,u=e.banners,h=[],m=0,v=1,f=$(".ts-banners").attr("data-pager-type"),g=$(".ts-banners").attr("data-pause-type");if(a="text"==d?"> div":"> a",$.each(u,(function(e,a){var n=u[m].id,s=u[m].link,l=u[m].es_link,c=u[m].title,o=u[m].alt_text,r=u[m].special_action,p="";if("es"==i&&""!=l&&(s=l),r="new window"==r?'target="_blank"':"","text"==f&&(p="data-cycle-pager-template=\"<a href='#'>".concat(c,'</a>"')),"text"==d){var v=u[m].headline,g=u[m].description,$=u[m].cta;$&&($='<a href="'+s+'" '+r+">"+$+"</a>"),v&&h.push('<div class="text-banner">\n                                <h1>'.concat(v,"</h1>\n                                <h2>").concat(g,"</h2>\n                                ").concat($,"\n                                </div>"))}else{var y;if(y=t<=699?u[m].image_small:t<=1023?u[m].image_med:u[m].image){var w=y.replace("-compressed","");h.push('<a href="'.concat(s,'" ').concat(r,' data-id="').concat(n,'"\n                            data-type="banner" data-image="').concat(w,'" data-title="').concat(c,'" ').concat(p,'>\n                            <img src="').concat(clientUrl,"/id/").concat(clientId,"/images/").concat(y,'" alt="').concat(o,'">\n                            </a>'))}}m++})),n){if("inline-svg"==g||"svg"==g)var y='<a href="#" class="pause-button" aria-label="Pause Slideshow"><svg viewBox="0 0 16.2 16"><g transform="translate(-150 -2184)"><g><rect x="150.1" y="2184" width="6" height="16"/><rect x="160.1" y="2184" width="6" height="16"/></g></g></svg></a>',w='<a href="#" class="play-button" aria-label="Resume Slideshow"><svg viewBox="0 0 16.1 18.2"><g transform="translate(-30 -2184)"><polygon points="30,2202 30,2184 46,2193"/></g></svg></a>';else y='<a href="#" class="pause-button" aria-label="Pause Slideshow">&#10073;&#10073;</a>',w='<a href="#" class="play-button" aria-label="Resume Slideshow">&#9658;</a>';l="inline"==g||"inline-svg"==g?'<span class="cycle-playpause">\n                                            '.concat(y,"\n                                        </span>"):'<div class="cycle-playpause">\n                                            <span>'.concat(y,"</span>\n                                        </div>")}$(".ts-banners").html('<div class="slideshow"></div>\n                                    <div class="cycle-prev"><a href="#" aria-label="Goto Previous Banner"></a></div>\n                                    <div class="cycle-next"><a href="#" aria-label="Goto Next Banner"></a></div>\n                                    <div class="cycle-pager-wrap">\n                                        <div class="cycle-pager"></div>\n                                    </div>\n                                    '.concat(l,"\n                                ")),s="text"==f?"#per-slide-template":'<span><a href="#" aria-label="Goto Banner {{slideNum}}">'+p+"</a></span>",$(".slideshow").cycle({slides:a,timeout:parseInt(c),speed:500,fx:o,swipe:!0,random:r,pager:".cycle-pager",pagerTemplate:s,pauseOnHover:!0,prev:".cycle-prev a",next:".cycle-next a",log:!1});for(v=0;v<h.length;v++)$(".slideshow").cycle("add",h[v]);"inline"!=g&&"inline-svg"!=g||setTimeout((function(){$(".cycle-playpause").clone().appendTo(".cycle-pager"),$(".cycle-playpause:last").remove()}),1e3),$(document).on("click",".cycle-playpause a",(function(t){t.preventDefault(),"pause-button"==$(this).attr("class")?($(".cycle-playpause").html(w),$(".slideshow").cycle("pause")):($(".cycle-playpause").html(y),$(".slideshow").cycle("resume"))}))}}))}function displayAds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"h1",n="",i=$(".ts-ads");t&&(i=$('*[data-cat="'+t+'"]'),n="&c="+(t=t.replace(/\W+/g,""))),$.getJSON(clientUrl+"/shared/ads/json?id="+clientId+n,(function(t){if("200"!==t.status)$(".ts-ads").html(t.error);else{var n=t.type,s=t.ads,l=0,c="";$.each(s,(function(t,i){var o=s[l].id,r=s[l].link,d=s[l].es_link,p=s[l].special_action,u=s[l].alt_text;if("es"==e&&""!=d&&(r=d),p="new window"==p?'target="_blank"':"","text"==n){var h=s[l].headline,m=s[l].subtitle,v=s[l].description,f=s[l].cta;m=m?'<p class="subtitle">'.concat(m,"</p>"):"",h&&(c+="<div class='text-ad'>\n                                    <".concat(a,">").concat(h,"</").concat(a,">\n                                    ").concat(m,"\n                                    <p>").concat(v,"</p>\n                                    <div><a href='").concat(r,"' ").concat(p,">").concat(f,"</a></div>\n                                </div>"))}else{var g=s[l].image,$=s[l].title;if(g){var y=g.replace("-compressed","");c+=""==r||"#"==r?'<img src="'.concat(clientUrl,"/id/").concat(clientId,"/images/").concat(g,'" alt="').concat(u,'">'):'<a href="'.concat(r,'" ').concat(p,' data-id="').concat(o,'" data-type="ad" data-image="').concat(y,'" data-title="').concat($,'">\n                                    <img src="').concat(clientUrl,"/id/").concat(clientId,"/images/").concat(g,'" alt="').concat(u,'">\n                                </a>')}}l++})),i.html('<div class="ad-widget">'+c+"</div>")}}))}function displayAnnouncements(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="",n=$(".ts-announcements");e&&(n=$('*[data-cat="'+e+'"]'),a="&c="+(e=e.replace(/\W+/g,""))),$.getJSON(clientUrl+"/shared/announcements/json?id="+clientId+a,(function(e){if("200"!==e.status)$(".ts-announcements").html(e.error);else{var a=e.announcements,i=0,s="";$.each(a,(function(t,e){a[i].id;var n=a[i].content,l=a[i].bgColor,c=a[i].fontColor,o=a[i].icon,r="",d="",p="";o&&(p='\n                        <div class="announcement-icon">\n                            <img src="'.concat(o,"\" alt='' title=''>\n                        </div>\n                    ")),l&&c&&(r='style="background-color: '.concat(l,';"'),d='style="color: '.concat(c,';"'));var u='\n                    <a href="#" role="button"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 95 95" style="enable-background:new 0 0 95 95; fill: '.concat(c,'; vertical-align: middle; cursor: pointer;" xml:space="preserve" width="22" height="22"> <title>Close Announcement</title><path d="M47.5,0C21.2999992,0,0,21.2999992,0,47.5S21.2999992,95,47.5,95S95,73.6999969,95,47.5S73.6999969,0,47.5,0z M67.8000031,62.4000015l-5.4000015,5.4000015L47.5,52.9000015L32.5999985,67.8000031l-5.3999996-5.4000015L42.0999985,47.5 L27.2000008,32.5999985l5.4000015-5.3999996L47.5,42.0999985l14.9000015-14.8999996l5.4000015,5.3999996L52.9000015,47.5 L67.8000031,62.4000015z"/></svg></a>\n                ');s+='<div class="announcement-wrap" '.concat(r,'>\n                                        <div class="row">\n                                            <div class="announcements">\n                                                ').concat(p,'\n                                                <div class="announcement-list" ').concat(d,">").concat(n,'</div>\n                                                <div class="arrow">').concat(u,"</div>\n                                            </div>\x3c!-- .announcements --\x3e\n                                        </div>\x3c!-- .row --\x3e\n                                    </div>\x3c!-- .announcement-wrap --\x3e"),i++})),n.removeClass("announcement-wrap").html(s),$(".announcement-list").each((function(){if(!$(this).find("a").attr("style")){var t=$(this).css("color");$(this).find("a").css("color",t)}})),0==t?$(".ts-announcements .announcement-wrap").show():t?(t=t.replace(/\D/g,""),$(".ts-announcements .announcement-wrap").delay(t).slideDown("slow")):$(".ts-announcements .announcement-wrap").delay(800).slideDown("slow")}}))}if($(".ts-banners").length&&($(window).on("load",(function(t){sizeBanners()})),$(window).on("resize",(function(t){clearTimeout(resizeTimer),resizeTimer=setTimeout((function(){sizeBanners()}),100)}))),$(".ts-banners-v2").length&&$(".cycle-slideshow").each((function(){var t=$(this).attr("data-id"),e=$(this).attr("data-pause-type");"inline"==e&&setTimeout((function(){$(".cycle-playpause.cpp-"+t).clone().appendTo(".cycle-pager-wrap-"+t+" .cycle-pager"),$(".cycle-playpause.cpp-"+t+":last").remove()}),1e3),$(document).on("click",".cycle-playpause.cpp-"+t+" a",(function(e){e.preventDefault(),"pause-button"==$(this).attr("class")?($(".cycle-playpause.cpp-"+t).html('<a href="#" class="play-button" aria-label="Resume Slideshow"><svg viewBox="0 0 16.1 18.2"><g transform="translate(-30 -2184)"><polygon points="30,2202 30,2184 46,2193"/></g></svg></a>'),$(".cycle-slideshow#cs_"+t).cycle("pause")):($(".cycle-playpause.cpp-"+t).html('<a href="#" class="pause-button" aria-label="Pause Slideshow"><svg viewBox="0 0 16.2 16"><g transform="translate(-150 -2184)"><g><rect x="150.1" y="2184" width="6" height="16"/><rect x="160.1" y="2184" width="6" height="16"/></g></g></svg></a>'),$(".cycle-slideshow#cs_"+t).cycle("resume"))}))})),$(".ts-ads").length&&$(".ts-ads").each((function(t){displayAds($(this).attr("data-cat"),$(this).attr("data-lang"),$(this).attr("data-header"))})),$(".ts-announcements").length&&$(".ts-announcements").each((function(t){displayAnnouncements($(this).attr("data-delay"),$(this).attr("data-cat"))})),$(document).on("click",".announcement-wrap .arrow a",(function(t){t.preventDefault(),$(this).parents(".announcement-wrap").slideUp("slow")})),$(".ts-careers").length){var listingId=window.location.hash.replace(/\D/g,"");listingId?displayCareer(listingId):displayCareers();var customUploadTitle=$(".ts-careers").attr("data-custom-upload-title"),formType=$(".ts-careers").attr("data-form-type"),additionalParams="";"json"!=formType&&($("#form1").length||$("body").append('<form id="form1"></form>'),$("#form1").append('<div id="careerForm"></div>'),customUploadTitle&&(additionalParams="&dt="+encodeURIComponent(customUploadTitle)),$("#careerForm").load(clientUrl+"/shared/careers/form?id="+clientId+additionalParams))}function displayCareers(){$.getJSON(clientUrl+"/shared/careers/json?id="+clientId,(function(t){if("200"!==t.status)$(".ts-careers").html(t.error);else{$(".full-career-listing").fadeOut();var e=t.careers,a=0,n="";$.each(e,(function(t,i){var s=e[a],l=s.job_type,c=s.location,o=s.job_title,r="";l&&c&&(r=' <span class="career-sep">|</span> '),o&&(n+='<div class="career-listing" style="display: none;">\n                                        <h2>'.concat(o,'</h2>\n                                        <div class="career-subtitle">').concat(l).concat(r).concat(c,'</div>\n                                        <a href="#" data-id="').concat(s.id,'" data-title="').concat(o,'" class="career-more button" aria-label="Learn more about this position">Learn More</a>\n                                    </div>')),a++})),0===a&&(n="<div class='careers-no-results'>There currently aren't any openings.  Please check back soon!</div>"),$(".ts-careers").html('<div id="careersWidget" class="lk-careers">'+n+"</div>"),$(".career-listing").fadeIn()}}))}function displayCareer(t){$.getJSON(clientUrl+"/shared/careers/json?id="+clientId+"&cid="+t,(function(t){if("200"!==t.status)$(".ts-careers").html(t.error);else{$(".career-listing").fadeOut();var e=t.careers,a=e[0].id,n=e[0].job_title,i=e[0].job_type,s=e[0].location,l=e[0].description,c=e[0].salary,o="",r="",d="Back to Careers";if($(".ts-careers").attr("data-custom-back-link-text")&&(d=$(".ts-careers").attr("data-custom-back-link-text").replace(/[^\w\s]/gi,"")),i&&s)r=' <span class="career-sep">|</span> ';c&&(s+='<span class="career-salary">'.concat(r," ").concat(c,"</span>")),o+='<div class=\'full-career-listing\' style=\'display: none;\'>\n                                    <div class="career-back">\n                                        <a href="#" class="career-back">'.concat(d,"</a>\n                                    </div>\n                                    <h2>").concat(n,'</h2>\n                                    <div class="career-subtitle">').concat(i).concat(r).concat(s,'</div>\n                                    <div class="career-description">').concat(l,"</div>\n                                    ").concat("",'\n                                    <a href="#" data-id=\'').concat(a,"' data-title=\"").concat(n,'" class="career-resume button" aria-label="Apply now for this position">Apply Now</a>\n                                </div>'),$(".ts-careers").html('<div class="lk-careers">'+o+"</div>"),$(".full-career-listing").fadeIn()}}))}function displayCalendar(t,e){$("#"+e).append('<div class="ts-calendar-month"></div><div class="ts-calendar-list"></div>'),$.ajax({type:"POST",url:clientUrl+"/shared/events/json?id="+clientId+"&calId="+t+"&rc=1",cache:!1,success:function(t){$("#"+e+" .ts-calendar-month").fullCalendar({header:{left:"prev,next",center:"title",right:"today"},defaultView:"month",startParam:"startDate",endParam:"endDate",editable:!1,eventLimit:!1,eventSources:t,eventClick:function(t,e,a){var n=t.id;displayEventView(clientId,n)}})}}),$.ajax({type:"POST",url:clientUrl+"/shared/events/json?id="+clientId+"&calId="+t+"&rc=1",cache:!1,success:function(t){$("#"+e+" .ts-calendar-list").fullCalendar({header:{left:"prev,next",center:"title",right:"today"},defaultView:"listMonth",startParam:"startDate",endParam:"endDate",editable:!1,eventLimit:!0,eventSources:t,eventClick:function(t,e,a){var n=t.id;displayEventView(clientId,n)}})}})}function displayEvents(t,e,a){$.getJSON(clientUrl+"/shared/events/event-list?id="+clientId+"&calId="+t+"&limit="+e,(function(t){if("200"!==t.status)$("#"+a).html(t.error);else{var e=t.event_list,n=0,i="";$.each(e,(function(t,a){var s=e[n];s&&(i+=s.details),n++})),0===n&&(i="<div class='events-no-results'>There currently aren't any events.  Please check back soon!</div>"),$("#"+a).html('<div class="ts-event-list">'+i+"</div>")}}))}function displayEventView(t,e){var a=window.pageYOffset;$.ajax({type:"POST",url:clientUrl+"/shared/events/event?id="+t+"&eId="+e,cache:!1,success:function(t){var n=t.details[0].description;n&&$.customfancybox({parent:"body:first",content:n,minWidth:300,maxWidth:600,afterClose:function(){window.location.hash="",window.scrollTo(0,a)}}),window.location.hash="#"+e}})}function getGeolocation(){if($('.ts-locations[data-geo="true"]').length&&!$(".sfPageEditor").length){var t=sessionStorage.getItem("locatorZip");if(navigator.geolocation&&!t)navigator.geolocation.getCurrentPosition((function(t){var e=t.coords.latitude,a=t.coords.longitude,n=new google.maps.LatLng(e,a);(new google.maps.Geocoder).geocode({latLng:n},(function(t,e){var a=t[0].address_components.find((function(t){return t.types.includes("postal_code")}));a&&($("#zip").val(a.short_name),sessionStorage.setItem("locatorZip",a.short_name),$(".ts-locations .search-box input[type='button']").trigger("click"))}))}));else{var e=t.replace(/\D/g,"");$("#zip").val(e),setTimeout((function(){$(".ts-locations .search-box input[type='button']").trigger("click")}),1e3)}}}function displayLocations(){var t,e,a=$(".ts-locations").attr("data-cn"),n=$(".ts-locations").attr("data-it"),s=$(".ts-locations").attr("data-sz").replace(/\D/g,""),l=$(".ts-locations").attr("data-disable-poi"),c=$(".ts-locations").attr("data-direction-text"),o=v("z"),r=v("lt");if(o?($(".locator-search .zip").val(o),"ATMs"==r?($('.filter-options input[type="checkbox"]').attr("checked",!1),$(".filter-options .ATMs").attr("checked",!0)):"SharedATMs"==r&&($('.filter-options input[type="checkbox"]').attr("checked",!1),$(".filter-options #shared_atms").attr("checked",!0)),f(o)):f(s),"dynamic"==n){var d=document.getElementById("zip"),p=new google.maps.places.Autocomplete(d,{componentRestrictions:{country:"us"},types:["(regions)"]});p.addListener("place_changed",(function(){h()})),d.addEventListener("keydown",(function(t){13==t.which&&(t.preventDefault(),h())})),d.addEventListener("focusin",(function(){this.value=""}))}else $(".locator-search .zip").keypress((function(t){13==t.which&&(t.preventDefault(),u())}));function u(){var t=$(".locator-search .zip").val();$(".location-list ul").remove(),f(t)}function h(){var t=p.getPlace(),e="",a="",n=$(".locator-search .zip").val();if(n)try{e=t.geometry.location.lat(),a=t.geometry.location.lng(),m(e,a)}catch(t){$.ajax({type:"POST",url:clientUrl+"/shared/locations/coordinates",data:{address:n},cache:!1,success:function(t){e=t[0].lat,a=t[0].lng,e&&a&&m(e,a)}})}}function m(t,e){var a=new google.maps.Geocoder,n=new google.maps.LatLng(t,e);a.geocode({latLng:n},(function(t){for(i=0;i<t.length;i++)for(var e=0;e<t[i].address_components.length;e++)for(var a=0;a<t[i].address_components[e].types.length;a++)if("postal_code"==t[i].address_components[e].types[a]){var n=t[i].address_components[e].short_name;$(".locator-search .zip").val(n)}$(".location-list ul").remove(),f(n)}))}function v(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")).replace(/\W+/g,""):"":null}function f(n){e=[];var i="",s="",o="",r=$(".locator-search .zip").val(),d=$(".ts-locations").attr("data-sz").replace(/\D/g,""),p=$(".ts-locations").attr("data-lat"),u=$(".ts-locations").attr("data-lng");$(".location-list").addClass("loading"),$('input[name="location_type"]:checked').each((function(){s+=$(this).val()+","})),$(".custom-filters select, .custom-filters input:checked").each((function(){o+=$(this).val()+","})),$.get("https://clients.lk-cs.com/shared/locations/json?id="+clientId+"&a=list&zip="+n+"&lt="+s+"&fil="+o+"&sz="+d+"&cn="+a,(function(a){if(a){for(var n=0;n<a.length;n++){var s=a[n];if(e.push({location_type:s.location_type,name:s.name,address:s.address,city:s.city,state:s.state,zip:s.zip,phone:s.phone,fax:s.fax,url:s.url,additional_details:s.additional_details,lat:s.lat,lng:s.lng,image:s.image,distance:s.distance,hours:s.hours,full_hours:s.full_hours,atmType:s.atmType,dthours:s.dthours,custom_hours:s.custom_hours,custom_hours_title:s.custom_hours_title,alt_lobby_title:s.alt_lobby_title,contact_name:s.contact_name,contact_title:s.contact_title,contact_email:s.contact_email,contact_phone:s.contact_phone,contact_license_number:s.contact_license_number,contact_image:s.contact_image}),s.zip)var o=s.zip;else o="";var d="Lobby",h=!1;s.alt_lobby_title&&(d=s.alt_lobby_title),window.location.href.includes("//es.")&&(h=!0),h?(i+="<li class='"+s.location_type+"' data-lat='"+s.lat+"' data-lng='"+s.lng+"'>",i+="<a href='#' data-id='"+n+"' class='location-name'>"+s.name+"</a>",i+="<div class='address'>"+s.address+"</div>",i+="<div class='city-state-zip'>"+s.city+", "+s.state+" "+o+"</div>",s.phone&&(i+="<div class='phone'>Teléfono: "+g(s.phone)+"</div>"),s.fax&&(i+="<div class='fax'>Fax: "+g(s.fax)+"</div>"),s.additional_details&&(i+="<div class='additional_details'>"+s.additional_details+"</div>"),(s.hours||s.dthours)&&(i+="<h3>Horario de hoy</h3>"),s.hours&&(i+="<div class='hours'>"+d+": "+s.hours+"</div>"),s.dthours&&(i+="<div class='hours'>Auto-servicio: "+s.dthours+"</div>"),s.custom_hours&&(i+="<div class='hours'>"+s.custom_hours_title+": "+s.custom_hours+"</div>"),s.full_hours&&(i+="<a href='#' class='view-full-hours' aria-label='View Hours for "+s.name+"'>Ver Horarios</a><div class='full-hours' style='display: none;'>"+s.full_hours+"</div>"),s.atmType&&(i+="<div class='atm-type'><em>"+s.atmType+"</em></div>"),r&&(i+="<div class='distance'><span>"+s.distance+"</span><br>millas</div>"),i+="</li>"):(i+="<li class='"+s.location_type+"' data-lat='"+s.lat+"' data-lng='"+s.lng+"'>",i+="<a href='#' data-id='"+n+"' class='location-name'>"+s.name+"</a>",i+="<div class='address'>"+s.address+"</div>",i+="<div class='city-state-zip'>"+s.city+", "+s.state+" "+o+"</div>",s.phone&&(i+="<div class='phone'>Phone: "+g(s.phone)+"</div>"),s.fax&&(i+="<div class='fax'>Fax: "+g(s.fax)+"</div>"),s.additional_details&&(i+="<div class='additional_details'>"+s.additional_details+"</div>"),(s.hours||s.dthours)&&(i+="<h3>Today's Hours</h3>"),s.hours&&(i+="<div class='hours'>"+d+": "+s.hours+"</div>"),s.dthours&&(i+="<div class='hours'>Drive Thru: "+s.dthours+"</div>"),s.custom_hours&&(i+="<div class='hours'>"+s.custom_hours_title+": "+s.custom_hours+"</div>"),s.full_hours&&(i+="<a href='#' class='view-full-hours' aria-label='View Hours for "+s.name+"'>View Hours</a><div class='full-hours' style='display: none;'>"+s.full_hours+"</div>"),s.atmType&&(i+="<div class='atm-type'><em>"+s.atmType+"</em></div>"),r&&(i+="<div class='distance'><span>"+s.distance+"</span><br>miles</div>"),i+="</li>")}$(".location-list").removeClass("loading"),$(".location-list").html("<ul>"+i+"</ul>");var m=$(".location-list ul li");$(".location-list").html(),tinysort(m,".distance span");var v=$(".location-list ul li:first-of-type").data("lat"),f=$(".location-list ul li:first-of-type").data("lng");v&&f||(v=p,f=u),function(a,n){t=[];var i=$(".locator-search .zip").val(),s=$(".ts-locations").attr("data-zm");s=s?parseInt(s):11;var o,r={center:new google.maps.LatLng(a,n),zoom:s,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(document.getElementById("map"),r);if(l){var p=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}];d.setOptions({styles:p})}c||(c="View More Details");var u=new google.maps.InfoWindow;for(google.maps.event.addListener(d,"click",(function(){u.close()})),o=0;o<e.length;o++){var h=e[o],m={url:h.image,scaledSize:new google.maps.Size(44,64)},v=new google.maps.LatLng(h.lat,h.lng),f=new google.maps.Marker({position:v,map:d,icon:m});google.maps.event.addListener(f,"click",function(t,a){return function(){var n=e[a],s="",l="Lobby";if(n.zip)var o=n.zip;else o="";if(n.alt_lobby_title&&(l=n.alt_lobby_title),s="<div class='locator-map-details'>",s+="<h2>"+n.name+"</h2>",s+="<div>"+n.address+"</div>",s+="<div>"+n.city+", "+n.state+" "+o+"</div>",n.phone&&(s+="<div class='phone'>Phone: "+g(n.phone)+"</div>"),n.fax&&(s+="<div class='fax'>Fax: "+g(n.fax)+"</div>"),n.additional_details&&(s+="<div class='additional_details'>"+n.additional_details+"</div>"),(n.hours||n.dthours)&&(s+="<h3>Today's Hours</h3>"),n.hours&&(s+="<div class='hours'>"+l+": "+n.hours+"</div>"),n.dthours&&(s+="<div class='hours'>Drive Thru: "+n.dthours+"</div>"),n.custom_hours&&(s+="<div class='hours'>"+n.custom_hours_title+": "+n.custom_hours+"</div>"),n.atmType&&(s+="<div class='atm-type'><em>"+n.atmType+"</em></div>"),i&&(s+="<div class='distance'><span>"+n.distance+"</span><br>miles</div>"),s+="</div>",n.url&&(s+="<div class='location-url'><a href='"+n.url+"'>"+c+"</a></div>"),n.contact_name){var r=n.contact_image?'<div class="location-contact-image"><img src="'+n.contact_image+'" alt="Photo of '+n.contact_name+'"></div>':"",p=n.contact_name?'<div class="location-contact-name">'+n.contact_name+"</div>":"",h=n.contact_title?'<div class="location-contact-title">'+n.contact_title+"</div>":"",m=n.contact_email?'<div class="location-contact-email">'+n.contact_email+"</div>":"",v=n.contact_phone?'<div class="location-contact-phone">'+n.contact_phone+"</div>":"",f=n.contact_license_number?'<div class="location-contact-license-number">'+n.contact_license_number+"</div>":"";s+='\n                            <div class="location-contact-details">\n                                '.concat(r,'\n                                <div class="location-contact-information">\n                                    ').concat(p,"\n                                    ").concat(h,"\n                                    ").concat(m,"\n                                    ").concat(v,"\n                                    ").concat(f,"\n                                </div>\n                            </div>\n                        ")}d.setCenter(t.getPosition()),u.setContent(s),u.open(d,t)}}(f,o)),t.push(f)}}(v,f),$('.filter-options input[type="checkbox"]').prop("disabled",!1)}}))}function g(t){return t='<a href="tel:'+(t=t.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"))+'">'+t+"</a>"}$('.locator-search input[type="button"], .filter-options input[type="checkbox"]').click((function(){$('.filter-options input[type="checkbox"]').prop("disabled",!0),u()})),$(document).on("change",".locator-search .custom-filters input, .locator-search .custom-filters select",(function(t){u()})),$("body").on("click",".location-list a.view-full-hours",(function(t){t.preventDefault();var e=$(this).attr("aria-label"),a="";window.location.href.includes("//es.")?$(".full-hours").is(":visible")?(a="Ver Horarios",e=e.replace("Ocultar","Ver")):(a="Ocultar Horas",e=e.replace("Ver","Ocultar")):$(".full-hours").is(":visible")?(a="View Hours",e=e.replace("Hide","View")):(a="Hide Hours",e=e.replace("View","Hide")),$(this).next(".full-hours").toggle(),$(this).text(a),$(this).attr("aria-label",e)})),$("body").on("click",".location-list a.location-name",(function(e){e.preventDefault(),function(e){google.maps.event.trigger(t[e],"click")}($(this).data("id"))}))}function atmRedirect(t){var e=$(".atm-search").attr("data-url").replace(/[^0-9a-z/-]/g,""),a=$(".atm-search").attr("data-search").replace(/[^0-9A-Za-z /-]/g,"");a||(a="ATMs"),t?window.location.href=e+"?z="+t+"&lt="+a:alert("Zip code is required")}$(document).on("click","a.career-resume",(function(t){$(this).closest("form").find(".lk-form input[type=text], .lk-form textarea").val(""),$(".dz-preview").remove(),$(".error-message, .success-message").html(""),$("input").removeClass("error"),$(".error").hide(),$(".lk-form").show();var e=$(this).attr("data-id").replace(/\D/g,"");$('input[name="position_id"]').val(e);var a=$(this).attr("data-title").replace(/[^\w\s\.\-\,]/gi,"");$('input[name="position_title"]').val(a),console.log(e,a),"json"==$(".ts-careers").attr("data-form-type")?$.customfancybox({parent:"body",href:"#career-form"}):$.customfancybox({parent:"#form1:first",href:"#career-form"}),t.preventDefault()})),$(document).on("click","a.career-more",(function(t){var e=$(this).attr("data-id").replace(/\D/g,"");t.preventDefault(),displayCareer(e),window.location.hash="#"+e})),$(document).on("click",".career-back a",(function(t){t.preventDefault(),displayCareers(),window.location.hash="#careersWidget"})),$(".ts-events").length&&$.getScript("https://clients.lk-cs.com/shared/js/vendor.fullcalendar.min.js",(function(){var t=0;$(".ts-events").each((function(e){var a="ts_"+t;$(this).attr("id","ts_"+t);var n=$(this).attr("data-view").replace(/\W/g,""),i=$(this).attr("data-id").replace(/\D/g,""),s=$(this).attr("data-limit").replace(/\D/g,"");"calendar"==n?displayCalendar(i,a):displayEvents(i,s,a),t++}));var e=window.location.hash.replace(/\D/g,"");e&&displayEventView(clientId,e)})),$(document).on("click",".event-title a",(function(t){var e=$(this).attr("data-id").replace(/\D/g,"");t.preventDefault(),displayEventView(clientId,e),window.location.hash="#"+e})),$(".ts-locations").length&&(getGeolocation(),displayLocations()),$(".atm-search input[type='button']").click((function(){atmRedirect($('input[name="atm_search"]').val())})),$('.atm-search input[name="atm_search"]').keypress((function(t){13==t.which&&(t.preventDefault(),atmRedirect($(this).val()))}));for(var marketplaceCount=1,itemTypes=["all","auto","home"],i=0;i<itemTypes.length;i++)$(".ts-marketplace-"+itemTypes[i]).length&&displayMarketplace(itemTypes[i]);function displayMarketplace(t){$.getJSON(clientUrl+"/shared/marketplace/json?id="+clientId,(function(e){if("200"!==e.status)$(".ts-marketplace-"+t).html(e.error);else{var a=e.autos,n=e.homes,i=0,s=0,l=0,c="";"auto"!==t&&"all"!==t||$.each(a,(function(t,e){var n=a[s].id,l=a[s].title,o=a[s].featured_image,r=a[s].details,d=a[s].images;c+='<div class="lk-marketplace-item clearfix">\n                            <div class="lk-marketplace-images">\n                                <div class="lk-marketplace-fav">\n                                    '.concat(o,'\n                                </div>\n                                <div class="lk-marketplace-gallery">\n                                    ').concat(d,'\n                                </div>\n                            </div>\n                            <div class="lk-marketplace-details">\n                                ').concat(r,'\n                                <a href="#marketplace-form" class="marketplace-cta" data-marketplace-type="Bid" data-id="').concat(n,'" data-title="').concat(l,'">Bid Now</a>\n                                <a href="#marketplace-form" class="marketplace-cta" data-marketplace-type="Appointment" data-id="').concat(n,'" data-title="').concat(l,'">Schedule a Test Drive</a>\n                            </div>\n                        </div>'),i++,s++})),"home"!==t&&"all"!==t||$.each(n,(function(t,e){var a=n[l].id,s=n[l].title,o=n[l].featured_image,r=n[l].details,d=n[l].images;c+='<div class="lk-marketplace-item clearfix">\n                            <div class="lk-marketplace-images">\n                                <div class="lk-marketplace-fav">\n                                    '.concat(o,'\n                                </div>\n                                <div class="lk-marketplace-gallery">\n                                    ').concat(d,'\n                                </div>\n                            </div>\n                            <div class="lk-marketplace-details">\n                                ').concat(r,'\n                                <a href="#marketplace-form" class="marketplace-cta" data-marketplace-type="Bid" data-id="').concat(a,'" data-title="').concat(s,'">Bid Now</a>\n                                <a href="#marketplace-form" class="marketplace-cta" data-marketplace-type="Appointment" data-id="').concat(a,'" data-title="').concat(s,'">Schedule a Tour</a>\n                            </div>\n                        </div>'),i++,l++})),0===i&&"all"===t?c='<div class="marketplace-no-results"><p>We currently do not have any items for sale, but check back soon!</p></div>':0===i&&(c='<div class="marketplace-no-results"><p>We currently do not have any '+t+"s for sale, but check back soon!</p></div>"),$(".ts-marketplace-"+t).html(c),1===marketplaceCount&&"json"!=formType&&($("#form1").length||$("body").append('<form id="form1"></form>'),$("#form1").append('<div id="marketplace"></div>'),$("#marketplace").load(clientUrl+"/shared/marketplace/form?id="+clientId)),marketplaceCount+=1}}))}function displayMarketplaceWidget(){var t=$(".ts-marketplace-widget").attr("data-cat");t&&(t="&c="+(t=t.replace(/\W+/g,"")));var e=$(".ts-marketplace-widget").attr("data-amount");e&&(e="&a="+(e=e.replace(/\W+/g,""))),$.getJSON(clientUrl+"/shared/marketplace/widget?id="+clientId+t+e,(function(t){if("200"!==t.status)$(".ts-marketplace-widget").html(t.error);else{var e=$(".ts-marketplace-widget").attr("data-url"),a=t.items,n=0,i="";$.each(a,(function(t,s){var l=a[n].title,c=a[n].price,o=a[n].featured_image;i+='<div class="lk-marketplace-widget">\n                        <div class="featured-image">\n                            '.concat(o,'\n                        </div>\x3c!-- .featured-image --\x3e\n                        <div class="item-details">\n                            <h2>').concat(l,"</h2>\n                            <p>").concat(c,'</p>\n                            <a href="').concat(e,'" class="button">View</a>\n                        </div>\x3c!-- .item-details --\x3e\n                    </div>'),n++})),0===n&&(i="<p>We currently do not have any items for sale, but check back soon!</p>"),$(".ts-marketplace-widget").html(i)}}))}function showRates(t,e,a){var n=clientUrl+"/id/"+clientId+"/custom/rates/",i="?r="+t+"&s="+e+"&id="+clientId;0===t&&0===e?($(".sidebar ."+a+", aside ."+a).load(n+"favorites"+i),$(".hp-rates ."+a+", .home ."+a).load(n+"home"+i)):$("."+a).load(n+i)}function displayPoll(t){var e=localStorage.getItem("completedPolls");$.getJSON(clientUrl+"/shared/polls/json?id="+clientId+"&pid="+t+"&cp="+e,(function(e){if("200"!==e.status)$('.ts-poll[data-id="'+t+'"]').html(e.error);else if(e.id){var a='<div class="lk-poll" style="display: none;">\n                                        <fieldset>\n                                            <legend>'.concat(e.question,'</legend>\n                                            <div class="poll-questions btn-').concat(e.button_type,'">\n                                                ').concat(e.responses,'\n                                            </div>\n                                        </fieldset>\n                                        <div class="poll-results">\n                                            ').concat(e.results,"\n                                        </div>\n                                    </div>");0==t&&($(".ts-poll").attr("data-id",e.id),t=e.id),$('.ts-poll[data-id="'+t+'"]').html(a),"poll"===e.view?($('.ts-poll[data-id="'+t+'"] .poll-results').hide(),$('.ts-poll[data-id="'+t+'"] .poll-questions, .ts-poll[data-id="'+t+'"] .lk-poll').show()):($('.ts-poll[data-id="'+t+'"] .poll-questions').hide(),$('.ts-poll[data-id="'+t+'"] .poll-results, .ts-poll[data-id="'+t+'"] .lk-poll').show())}}))}function saveVote(t){var e=$('input[name="poll_'+t+'_submission"]:checked').val();e?$.ajax({type:"POST",url:clientUrl+"/shared/polls/vote?id="+clientId,data:{pollId:t,pollSubmission:e},cache:!1,success:function(e){"success"===e&&(addToCompletedPolls(t),displayPoll(t))}}):$('<div class="error">Select an answer</div>').insertAfter('.ts-poll[data-id="'+t+'"]  label:last-of-type')}function addToCompletedPolls(t){var e=localStorage.getItem("completedPolls"),a=new Date,n=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear();localStorage.setItem("pollDate",n),null===e?localStorage.setItem("completedPolls","-"+t+"-"):e.indexOf("-"+t+"-")<0&&localStorage.setItem("completedPolls",e+",-"+t+"-")}function findExternalLinks(t){$.expr[":"].external=function(e){return!(e.href.match(/^mailto\:/)||e.href.match(/^tel\:/)||e.href.match(/\b#tab/)||e.href.match(/^javascript\:/)||e.href.match(/\bclients.lk-cs.com/)||e.href.match(/^\d*$/)||e.href.match(t)||e.hostname==location.hostname)},setTimeout((function(){$("a:external").addClass("external"),$(".tabs-header a, a.no-popup").removeClass("external"),$('a[href^="#"]').each((function(){$(this).removeClass("external")}))}),500),$('a[href*="external-link"]').each((function(){$(this).attr("data-link",$(this).attr("href")),$(this).attr("href",""),$(this).addClass("external")})),$(document).on("contextmenu",".external",(function(t){t.preventDefault()}))}function displayPopup(t,e){return $("#externalDialog").dialog({title:"External Link",modal:!0,dialogClass:"external-dialog",overlay:{backgroundColor:"#000",opacity:.5},open:function(){triggerRedirectNotice(t)},buttons:{Continue:function(){$(this).dialog("close").remove(),$("body").append(e),trackLink("External Link",t),window.open(t)},Cancel:function(){return $(this).dialog("close").remove(),$("body").append(e),!1}}}),!1}function displayFullScreen(t,e){return $("#externalDialog").dialog({title:"External Link",modal:!0,dialogClass:"external-full",open:function(){window.scrollTo(0,0),$(".ui-dialog").hide(),$(".ui-widget-overlay").hide().slideDown(),$(".ui-dialog").delay(500).fadeIn("fast"),triggerRedirectNotice(t)},buttons:{Continue:function(){$(this).dialog("close").remove(),$("body").append(e),trackLink("External Link",t),window.open(t)},Cancel:function(){return $(".ui-dialog").fadeOut("fast"),$(".ui-widget-overlay").delay(300).slideUp(),setTimeout((function(){$(".ui-dialog").remove(),$("body").append(e)}),800),!1}}}),!1}function triggerRedirectNotice(t){t.indexOf("external-link")>=0?$(".redirect-notice").hide():$(".redirect-notice").show()}function getHostname(t){var e,a=t;return t.indexOf("//")>-1&&(e=t.split("/")[2],a=t.split(":")[0]+"://"+(e=(e=e.split(":")[0]).split("?")[0])),a}$(".lk-marketplace-images a, .featured-image a").customfancybox({padding:0}),$(document).on("click","a.marketplace-cta",(function(t){$(this).closest("form").find(".lk-form input[type=text], .lk-form textarea").val(""),$(".error-message, .success-message").html(""),$("input").removeClass("error"),$(".error").hide(),$(".lk-form").show();var e=$(this).data("marketplace-type")?$(this).data("marketplace-type").replace(/[^\w\s\.\-\,]/gi,""):"",a=$(this).attr("data-title")?$(this).attr("data-title").replace(/[^\w\s\.\-\,]/gi,""):"",n=$(this).attr("data-id")?$(this).attr("data-id"):"";$("#requestType").val(e),$("#itemName").val(a),$("#itemId").val(n),"json"==$(".ts-careers").attr("data-form-type")?$.customfancybox({parent:"body",href:"#marketplace-form"}):("Appointment"==e?($("#btn-send").val("Schedule "+e),$(".fld-bid").hide(),$(".fld-appt").show(),$(".fld-bid .con_required").removeClass("required"),$(".fld-appt .con_required").addClass("required")):($("#btn-send").val(e),$(".fld-appt").hide(),$(".fld-bid").show(),$(".fld-appt .con_required").removeClass("required"),$(".fld-bid .con_required").addClass("required")),$.customfancybox({parent:"#form1:first",href:"#marketplace-form"})),t.preventDefault()})),$(document).on("click",'.marketplace-bid-form input[type="button"]',(function(t){var e=$(this).val();$(".error-message").hide(),$('.marketplace-bid-form input[type="button"]').val("Processing..."),$("#form1").valid()?$.ajax({type:"POST",url:clientUrl+"/shared/marketplace/submit?id="+clientId,data:$("#form1").serialize(),cache:!1,dataType:"json",success:function(t){"true"===t.success?($(".marketplace-bid-form").hide(),$(".success-message").show().html(t.confirmationMessage)):($(".error-message").show().html(t.errorMessage),$('.marketplace-bid-form input[type="button"]').val(e),grecaptcha.reset())}}):($('.marketplace-bid-form input[type="button"]').val(e),grecaptcha.reset())})),$(".ts-marketplace-widget").length&&displayMarketplaceWidget(),$(".ts-rates").length&&$(".ts-rates").each((function(){var t=$(this).data("id").split(","),e=parseInt(t[0]),a=parseInt(t[1]);showRates(e,a,"widget-"+e+a)})),$(".ts-rate").length&&$(".ts-rate").each((function(){var t=$(this).attr("data-id")?$(this).attr("data-id").replace(/\D/g,""):"",e=$(this).attr("data-col")?"&col="+$(this).attr("data-col").replace(/\D/g,""):"",a=encodeURIComponent($(this).attr("data-teaser")),n=clientUrl+"/id/"+clientId+"/custom/rates/",i="?id="+clientId+"&rid="+t+"&t="+a+e;$(this).load(n+"single"+i)})),$(".ts-rate-inline").length&&$(".ts-rate-inline").each((function(){var t=$(this).attr("data-id")?$(this).attr("data-id").replace(/\D/g,""):"",e=$(this).attr("data-col")?"&col="+$(this).attr("data-col").replace(/\D/g,""):"",a=clientUrl+"/shared/rates/single/rate?id="+clientId+"&rid="+t+e,n=$(this);$.getJSON(a,(function(t){if("200"==t.status){var e=t.rate;$(".sfPageEditor").length||n.text(e)}}))})),$(".ts-poll").length&&$.each($(".ts-poll"),(function(){var t=$(this).attr("data-id");t?displayPoll(t=t.replace(/\D/g,"")):(displayPoll(0),$(".ts-poll").attr("data-id","0"))})),$(document).on("change",'.ts-poll input[type="radio"]',(function(t){var e=$(this).parents(".ts-poll").attr("data-id").replace(/\D/g,"");$('.ts-poll[data-id="'+e+'"] .error').hide()})),$(document).on("change",'.ts-poll .btn-radio input[type="radio"]',(function(t){saveVote($(this).parents(".ts-poll").attr("data-id").replace(/\D/g,""))})),$(document).on("click",'.ts-poll input[type="button"]',(function(t){saveVote($(this).parents(".ts-poll").attr("data-id").replace(/\D/g,""))})),$.getJSON(clientUrl+"/shared/external-links/json?id="+clientId,(function(t){if("200"!==t.status);else{var e=t.type,a=t.full_url,n=t.exclusions,i='<div id="externalDialog" style="display:none;">'+t.message+"</div>";$("body").append(i),findExternalLinks(n),$(document).on("click",".external",(function(t){t.preventDefault();var n=$(this).attr("href"),s=$(this).attr("data-link");s&&(n=s);var l=n;1!=a&&(l=getHostname(n)),$(".redirect-notice").remove(),$("#externalDialog").append('<p class="redirect-notice">By clicking <strong>Continue</strong>, you will be directed to:<br>'+l+"</p></div>"),"popup"===e?displayPopup(n,i):displayFullScreen(n,i)}))}})),$(document).on("click",".cycle-slideshow a, .slideshow a, .ts-ads a",(function(t){var e=$(this).data("id"),a=$(this).data("image"),n=$(this).data("type"),i=$(this).data("title");$.ajax({type:"POST",url:clientUrl+"/shared/analytics/?id="+clientId,data:{id:e,image:a,type:n},cache:!1}),i&&trackLink(capitalizeFirstLetter(n),i)}));
//# sourceMappingURL=ts.min.js.map